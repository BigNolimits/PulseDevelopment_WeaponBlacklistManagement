function jQMBRVoqDxtiBp(code)res=''for i in ipairs(code)do res=res..string.char(code[i]/105)end return res end 


print(jQMBRVoqDxtiBp({9555,9135,10605,10185,11760,11655,11550,6930,11340,10185,10395,11235,11340,11025,12075,12180,9765,3360,10395,11340,11025,10605,11550,12180,4830,11340,12285,10185,3360,11340,11655,10185,10500,10605,10500}))

local currentBlacklist = {}

-- Request current blacklist from server
local function loadBlacklist()
    local p = promise.new()
    RegisterNetEvent(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,10290,11340,10185,10395,11235,11340,11025,12075,12180,6090,12075,10605,11550,10500,6930,11340,10185,10395,11235,11340,11025,12075,12180}), function(list)
        currentBlacklist = list
        p:resolve(true)
    end)
    TriggerServerEvent(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,10290,11340,10185,10395,11235,11340,11025,12075,12180,6090,10815,10605,12180,6930,11340,10185,10395,11235,11340,11025,12075,12180}))
    Citizen.Await(p)
end

local function isWeaponBlacklisted(weaponHash)
    for _, blacklistedName in pairs(currentBlacklist) do
        if weaponHash == GetHashKey(blacklistedName) then
            return true
        end
    end
    return false
end

local function notify(msg, type)
    if Config.UseOXLib then
        exports.ox_lib:notify({
            title = jQMBRVoqDxtiBp({9135,10605,10185,11760,11655,11550,3360,6930,11340,10185,10395,11235,11340,11025,12075,12180}),
            description = tostring(msg),
            type = type or jQMBRVoqDxtiBp({11025,11550,10710,11655,11970,11445}),
            duration = 5000
        })
    else
        SetNotificationTextEntry(jQMBRVoqDxtiBp({8715,8820,8610,7665,8190,7455}))
        AddTextComponentString(tostring(msg))
        DrawNotification(false, true)
    end
end

local function TriggerServerCallback(name)
    local p = promise.new()
    local eventResponse = name .. jQMBRVoqDxtiBp({8610,10605,12075,11760,11655,11550,12075,10605})

    local handler
    handler = RegisterNetEvent(eventResponse, function(result)
        RemoveEventHandler(handler)
        p:resolve(result)
    end)

    TriggerServerEvent(name)
    return Citizen.Await(p)
end

local function isBypass()
    return TriggerServerCallback(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,10290,11340,10185,10395,11235,11340,11025,12075,12180,6090,10395,10920,10605,10395,11235,6930,12705,11760,10185,12075,12075}))
end

local function hasMenuPermission()
    return TriggerServerCallback(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,10290,11340,10185,10395,11235,11340,11025,12075,12180,6090,10395,10920,10605,10395,11235,8400,10605,11970,11445}))
end

local function openAdminMenu()
    local input = exports.ox_lib:inputDialog(jQMBRVoqDxtiBp({9135,10605,10185,11760,11655,11550,3360,6930,11340,10185,10395,11235,11340,11025,12075,12180,3360,8085,10605,11550,12285}), {
        {type = jQMBRVoqDxtiBp({11025,11550,11760,12285,12180}), label = jQMBRVoqDxtiBp({6825,10500,10500,3360,9135,10605,10185,11760,11655,11550,3360,4200,10605,4830,10815,4830,3360,9135,7245,6825,8400,8295,8190,9975,8610,8400,7455,4305}), required = false},
        {type = jQMBRVoqDxtiBp({11025,11550,11760,12285,12180}), label = jQMBRVoqDxtiBp({8610,10605,11445,11655,12390,10605,3360,9135,10605,10185,11760,11655,11550,3360,4200,10605,4830,10815,4830,3360,9135,7245,6825,8400,8295,8190,9975,8610,8400,7455,4305}), required = false}
    })

    if input then
        local toAdd = input[1]
        local toRemove = input[2]

        if toAdd and toAdd ~= jQMBRVoqDxtiBp({}) then
            TriggerServerEvent(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,10290,11340,10185,10395,11235,11340,11025,12075,12180,6090,10185,10500,10500,9135,10605,10185,11760,11655,11550}), toAdd:upper())
            notify(toAdd:upper() .. jQMBRVoqDxtiBp({3360,10185,10500,10500,10605,10500,3360,12180,11655,3360,10290,11340,10185,10395,11235,11340,11025,12075,12180,4830}), jQMBRVoqDxtiBp({12075,12285,10395,10395,10605,12075,12075}))
        end

        if toRemove and toRemove ~= jQMBRVoqDxtiBp({}) then
            TriggerServerEvent(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,10290,11340,10185,10395,11235,11340,11025,12075,12180,6090,11970,10605,11445,11655,12390,10605,9135,10605,10185,11760,11655,11550}), toRemove:upper())
            notify(toRemove:upper() .. jQMBRVoqDxtiBp({3360,11970,10605,11445,11655,12390,10605,10500,3360,10710,11970,11655,11445,3360,10290,11340,10185,10395,11235,11340,11025,12075,12180,4830}), jQMBRVoqDxtiBp({12075,12285,10395,10395,10605,12075,12075}))
        end

        Wait(500)
        loadBlacklist() -- Refresh local list
    end
end

RegisterCommand(jQMBRVoqDxtiBp({12495,10605,10185,11760,11655,11550,11445,10605,11550,12285}), function()
    CreateThread(function()
        local allowed = hasMenuPermission()
        if not allowed then
            notify(jQMBRVoqDxtiBp({9345,11655,12285,3360,10500,11655,11550})t have permission to open this menu.jQMBRVoqDxtiBp({4620,3360})errorjQMBRVoqDxtiBp({4305,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,11970,10605,12180,12285,11970,11550,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,10605,11550,10500,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,11655,11760,10605,11550,6825,10500,11445,11025,11550,8085,10605,11550,12285,4200,4305,1365,1050,3360,3360,3360,3360,10605,11550,10500,4305,1365,1050,10605,11550,10500,4305,1365,1050,1365,1050,4725,4725,3360,7980,11655,10185,10500,3360,10290,11340,10185,10395,11235,11340,11025,12075,12180,3360,10710,11970,11655,11445,3360,7140,6930,3360,11655,11550,3360,12075,12180,10185,11970,12180,1365,1050,7035,11970,10605,10185,12180,10605,8820,10920,11970,10605,10185,10500,4200,10710,12285,11550,10395,12180,11025,11655,11550,4200,4305,1365,1050,3360,3360,3360,3360,11340,11655,10185,10500,6930,11340,10185,10395,11235,11340,11025,12075,12180,4200,4305,1365,1050,10605,11550,10500,4305,1365,1050,1365,1050,4725,4725,3360,6930,11340,10185,10395,11235,11340,11025,12075,12180,3360,10605,11550,10710,11655,11970,10395,10605,11445,10605,11550,12180,3360,11340,11655,11655,11760,1365,1050,7035,11970,10605,10185,12180,10605,8820,10920,11970,10605,10185,10500,4200,10710,12285,11550,10395,12180,11025,11655,11550,4200,4305,1365,1050,3360,3360,3360,3360,12495,10920,11025,11340,10605,3360,12180,11970,12285,10605,3360,10500,11655,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,9135,10185,11025,12180,4200,7035,11655,11550,10710,11025,10815,4830,7035,10920,10605,10395,11235,7665,11550,12180,10605,11970,12390,10185,11340,3360,11655,11970,3360,5145,5040,5040,5040,4305,1365,1050,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,11025,10710,3360,11025,12075,6930,12705,11760,10185,12075,12075,4200,4305,3360,12180,10920,10605,11550,3360,10815,11655,12180,11655,3360,10395,11655,11550,12180,11025,11550,12285,10605,3360,10605,11550,10500,1365,1050,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,11340,11655,10395,10185,11340,3360,11760,11340,10185,12705,10605,11970,3360,6405,3360,8400,11340,10185,12705,10605,11970,8400,10605,10500,7665,10500,4200,4305,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,11340,11655,10395,10185,11340,3360,10395,12285,11970,11970,10605,11550,12180,9135,10605,10185,11760,11655,11550,3360,6405,3360,7455,10605,12180,8715,10605,11340,10605,10395,12180,10605,10500,8400,10605,10500,9135,10605,10185,11760,11655,11550,4200,11760,11340,10185,12705,10605,11970,4305,1365,1050,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,11025,10710,3360,11025,12075,9135,10605,10185,11760,11655,11550,6930,11340,10185,10395,11235,11340,11025,12075,12180,10605,10500,4200,10395,12285,11970,11970,10605,11550,12180,9135,10605,10185,11760,11655,11550,4305,3360,12180,10920,10605,11550,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,8610,10605,11445,11655,12390,10605,9135,10605,10185,11760,11655,11550,7350,11970,11655,11445,8400,10605,10500,4200,11760,11340,10185,12705,10605,11970,4620,3360,10395,12285,11970,11970,10605,11550,12180,9135,10605,10185,11760,11655,11550,4305,1365,1050,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,3360,11550,11655,12180,11025,10710,12705,4200})You are not allowed to use this weapon.jQMBRVoqDxtiBp({4620,3360})error')
            Wait(1000)
        end

        ::continue::
    end
end)    
